<!DOCTYPE htms>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="dns-prefetch" href="//static.cdnno.com">
    <link rel="stylesheet" href="bootstrap-5.3.2-dist/css/bootstrap.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css" />
    <link rel="stylesheet" href="/style/theloai.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
</head>
<body class="page-home ">
    <div id="app">
        <header class="header--read">
            <nav class="navbar navbar--read navbar-light navbar-expand">
                <div class="container px-3"><a href="#" class="navbar-brand mr-4"><img
                            src="//vtruyen.com/assets/images/logo.png?260523" alt="" height="48"></a>
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item dropdown dropdown-hover"><a href="javascript:void(0)"
                                class="nav-link d-flex align-items-center"><i class="nh-icon icon-menu fz-13 mr-2"></i>
                                Thể loại </a>
                            <div class="dropdown-menu dropdown-menu--category rounded-0">
                                <div class="row no-gutters"><a href="/truyen/"
                                        class="dropdown-item col-6 d-flex align-items-center active"><i
                                            class="svg-icon mr-2"></i>Tất cả </a><a href="/truyen/?genre=2"
                                        class="dropdown-item col-6 d-flex align-items-center"><i
                                            class="svg-icon mr-2"></i>Tiên Hiệp </a><a href="/truyen/?genre=3"
                                        class="dropdown-item col-6 d-flex align-items-center"><i
                                            class="svg-icon mr-2"></i>Huyền Huyễn </a><a href="/truyen/?genre=4"
                                        class="dropdown-item col-6 d-flex align-items-center"><i
                                            class="svg-icon mr-2"></i>Khoa Huyễn </a><a href="/truyen/?genre=5"
                                        class="dropdown-item col-6 d-flex align-items-center"><i
                                            class="svg-icon mr-2"></i>Võng Du </a><a href="/truyen/?genre=6"
                                        class="dropdown-item col-6 d-flex align-items-center"><i
                                            class="svg-icon mr-2"></i>Đô Thị </a><a href="/truyen/?genre=7"
                                        class="dropdown-item col-6 d-flex align-items-center"><i
                                            class="svg-icon mr-2"></i>Đồng Nhân </a><a href="/truyen/?genre=8"
                                        class="dropdown-item col-6 d-flex align-items-center"><i
                                            class="svg-icon mr-2"></i>Dã Sử </a><a href="/truyen/?genre=9"
                                        class="dropdown-item col-6 d-flex align-items-center"><i
                                            class="svg-icon mr-2"></i>Cạnh Kỹ </a><a href="/truyen/?genre=11"
                                        class="dropdown-item col-6 d-flex align-items-center"><i
                                            class="svg-icon mr-2"></i>Huyền Nghi </a><a href="/truyen/?genre=12"
                                        class="dropdown-item col-6 d-flex align-items-center"><i
                                            class="svg-icon mr-2"></i>Kiếm Hiệp </a><a href="/truyen/?genre=20"
                                        class="dropdown-item col-6 d-flex align-items-center"><i
                                            class="svg-icon mr-2"></i>Kỳ Ảo </a></div>
                            </div>
                        </li>
                        <li class="nav-item dropdown dropdown-hover"><a href="/bang-xep-hang/"
                                class="nav-link d-flex align-items-center"> Bảng xếp hạng </a>
                            <div class="dropdown-menu rounded-0"><a href="/bang-xep-hang/tuan/thinh-hanh"
                                    class="dropdown-item">Thịnh hành</a><a href="/bang-xep-hang/tuan/doc-nhieu"
                                    class="dropdown-item">Đọc nhiều</a><a href="/bang-xep-hang/tuan/tang-thuong"
                                    class="dropdown-item">Tặng thưởng</a><a href="/bang-xep-hang/tuan/de-cu"
                                    class="dropdown-item">Đề cử</a><a href="/bang-xep-hang/tuan/yeu-thich"
                                    class="dropdown-item">Yêu thích</a><a href="/bang-xep-hang/tuan/thao-luan"
                                    class="dropdown-item">Thảo luận</a></div>
                        </li>
                    </ul>
                    <div method="post" class="header__search-form ml-auto w-25"><input type="text" name="q"
                            placeholder="Tìm kiếm" class="form-control border-primary"><button
                            class="btn bg-transparent text-primary shadow-none"><i
                                class="nh-icon icon-search float-left"></i></button></div><!---->
                    <ul class="list-unstyled mb-0 ml-auto d-flex justify-content-center">
                        <li class="mr-4"><a href="#" target="_blank"
                                class="d-flex align-items-center px-3 py-2"><i class="nh-icon icon-up fz-13 mr-2"></i>
                                Đăng truyện </a></li>
                        <li><a href="javascript:void(0)" data-toggle="modal" class="d-block px-3 py-2"> Đăng nhập </a>
                        </li>
                        <li><a href="javascript:void(0)" data-toggle="modal" class="d-block px-3 py-2"> Đăng ký </a>
                        </li>
                    </ul>
                </div>
            </nav>
        </header>
        <a href="#" target="_blank"><span class="top-bg-op-box"
                style="background-image: url(&quot;https://static.cdnno.com/storage/topbox/c3b996421ffc45598b866776c6047512.jpg&quot;); position: absolute; z-index: 0; left: 0px; overflow: hidden; width: 100%; height: 388px; background-repeat: no-repeat; background-position: 50% 0px; background-size: cover;"></span></a>
        <main class="main pb-4">
            <div class="container">
                <div class="page-content rounded-3">
                    <div class="row">
                        <div class="col-3">
                            <aside>
                                <div class="border-bottom">
                                    <div class="font-weight-semibold mt-1 mb-2">Đã Chọn</div>
                                    <ul id="selected-filters" class="list-facet list-unstyled d-flex flex-wrap m-0">

                                    </ul>
                                </div>
                                <div class="py-2 border-bottom">
                                    <div class="font-weight-semibold mt-1 mb-2">Thể loại</div>
                                    <ul class="list-facet list-unstyled d-flex flex-wrap m-0">
                                        <li><button class="item rounded filter-button" data-category="Tiên Hiệp"
                                                onclick="filterByCategory('Tiên-Hiệp')"><small>
                                                    Tiên Hiệp</small></button></li>
                                        <li><button class="item rounded filter-button" data-category="Huyền Huyễn"
                                                onclick="filterByCategory('Huyền Huyễn')"><small>
                                                    Huyền Huyễn</small></button></li>
                                        <li><button class="item rounded filter-button" data-category="Khoa Huyền"
                                                onclick="filterByCategory('Khoa Huyền')"><small>
                                                    Khoa Huyền</small></button></li>
                                        <li><button class="item rounded filter-button" data-category="Võng Du"
                                                onclick="filterByCategory('Võng Du')"><small>
                                                    Võng Du</small></button></li>
                                        <li><button class="item rounded filter-button" data-category="Đô Thị"
                                                onclick="filterByCategory('Đô Thị')">
                                                <small>Đô Thị</small></button></li>
                                        <li><button class="item rounded filter-button" data-category="Đồng Nhân"
                                                onclick="filterByCategory('Đồng Nhân')">
                                                <small>Đồng Nhân</small></button></li>
                                        <li><button class="item rounded filter-button" data-category="Dã Sử"
                                                onclick="filterByCategory('Dã Sử')">
                                                <small>Dã Sử</small></button></li>
                                        <li><button class="item rounded filter-button" data-category="Cạnh Kỹ"
                                                onclick="filterByCategory('Cạnh Kỹ')">
                                                <small>Cạnh Kỹ</small></button></li>
                                        <li><button class="item rounded filter-button" data-category="Huyền Nghi"
                                                onclick="filterByCategory('Huyền Nghi')">
                                                <small>Huyền Nghi</small></button></li>
                                        <li><button class="item rounded filter-button" data-category="Kiếm Hiệp"
                                                onclick="filterByCategory('Kiếm Hiệp')">
                                                <small>Kiếm Hiệp</small></button></li>
                                        <li><button class="item rounded filter-button" data-category="Kỳ Ảo"
                                                onclick="filterByCategory('Kỳ Ảo')">
                                                <small>Kỳ Ảo</small></button></li>
                                    </ul>
                                </div>
                                <div class="py-2 border-bottom">
                                    <div class="font-weight-semibold mt-1 mb-2">Tình trạng</div>
                                    <ul class="list-facet list-unstyled d-flex flex-wrap m-0">
                                        <li><button class="item rounded filter-button" data-status="dang-ra"
                                                onclick="filterByStatus('dang-ra')"><small>Đang ra</small></button></li>
                                        <li><button class="item rounded filter-button" data-status="hoan-thanh"
                                                onclick="filterByStatus('hoan-thanh')"><small>Hoàn
                                                    Thành</small></button></li>
                                    </ul>
                                </div>
                                <div class="py-2 border-bottom">
                                    <div class="font-weight-semibold mt-1 mb-2">Tính cánh nhân vật</div>
                                    <ul class="list-facet list-unstyled d-flex flex-wrap m-0">
                                        <li><button class="item rounded filter-button" data-category="Điềm Đạm"
                                                onclick="filterByCategory('Điềm Đạm')"><small>
                                                    Điềm Đạm</small></button></li>
                                        <li><button class="item rounded filter-button" data-category="Nhiệt Huyết"
                                                onclick="filterByCategory('Nhiệt Huyết')"><small>
                                                    Nhiệt Huyết</small></button></li>
                                        <li><button class="item rounded filter-button" data-category="Vô Sỉ"
                                                onclick="filterByCategory('Vô Sỉ')"><small>
                                                    Vô Sỉ</small></button></li>
                                        <li><button class="item rounded filter-button" data-category="Thiết Huyết"
                                                onclick="filterByCategory('Thiết Huyết')"><small>
                                                    Thiết Huyết</small></button></li>
                                        <li><button class="item rounded filter-button" data-category="Nhẹ Nhàng"
                                                onclick="filterByCategory('Nhẹ Nhàng')">
                                                <small>Nhẹ Nhàng</small></button></li>
                                        <li><button class="item rounded filter-button" data-category="Cơ Trí"
                                                onclick="filterByCategory('Cơ Trí')">
                                                <small>Cơ Trí</small></button></li>
                                        <li><button class="item rounded filter-button" data-category="Lãng Khốc"
                                                onclick="filterByCategory('Lãng Khốc')">
                                                <small>Lãng Khốc</small></button></li>
                                        <li><button class="item rounded filter-button" data-category="Kiêu Ngạo"
                                                onclick="filterByCategory('Kiêu Ngạo')">
                                                <small>Kiêu Ngạo</small></button></li>
                                        <li><button class="item rounded filter-button" data-category="Ngu Ngốc"
                                                onclick="filterByCategory('Ngu Ngốc')">
                                                <small>Ngu Ngốc</small></button></li>
                                        <li><button class="item rounded filter-button" data-category="Giảo Hoạt"
                                                onclick="filterByCategory('Giảo Hoạt')">
                                                <small>Giảo Hoạt</small></button></li>
                                    </ul>
                                </div>
                                
                            </aside>
                        </div>
                        <div class="col-9">
                            <div class="d-flex align-items-center mb-3">
                                <ul class="list-unstyled m-0 d-flex flex-wrap">
                                    <li class="nh-dropdown dropdown">
                                        <a href="javascript:void(0)" role="button" id="js-genres" data-toggle="dropdown"
                                            aria-haspopup="true" aria-expanded="false"
                                            class="d-block dropdown-toggle pr-4 ">
                                            <span class="ml-2 font-weight-semibold">Mới cập nhật</span>
                                        </a>
                                        <div aria-labelledby="js-genres" class="dropdown-menu dropdown-menu-right">
                                            <a href="javascript:void(0);" class="dropdown-item active">Mới cập nhật</a>
                                            <a href="javascript:void(0);" class="dropdown-item">Mới đăng</a>
                                        </div>
                                    </li>
                                    <li class="nh-dropdown dropdown">
                                        <a href="javascript:void(0)" role="button" data-toggle="dropdown"
                                            aria-haspopup="true" aria-expanded="false"
                                            class="d-block dropdown-toggle pr-4">
                                            <span class="ml-2 font-weight-semibold">Lượt đọc</span>
                                        </a>
                                        <div aria-labelledby="js-views" class="dropdown-menu dropdown-menu-right">
                                            <a href="javascript:void(0);" class="dropdown-item">Lượt đọc [ngày]</a>
                                            <a href="javascript:void(0);" class="dropdown-item">Lượt đọc [tuần]</a>
                                            <a href="javascript:void(0);" class="dropdown-item">Lượt đọc [tháng]</a>
                                            <a href="javascript:void(0);" class="dropdown-item"
                                                id="mostViewedOverall">Lượt
                                                đọc [toàn]</a>
                                        </div>
                                    </li>
                                    <li class="nh-dropdown dropdown">
                                        <a href="javascript:void(0)" role="button" data-toggle="dropdown"
                                            aria-haspopup="true" aria-expanded="false"
                                            class="d-block dropdown-toggle pr-4">
                                            <span class="ml-2 font-weight-semibold">Điểm đánh giá</span>
                                        </a>
                                        <div aria-labelledby="js-views" class="dropdown-menu dropdown-menu-right">
                                            <a href="javascript:void(0);" class="dropdown-item">Lượt đánh giá</a>
                                            <a href="javascript:void(0);" class="dropdown-item">Điểm đánh giá</a>
                                        </div>
                                    </li>
                                    <li class="">
                                        <a href="javascript:void(0)" role="button" data-toggle="dropdown"
                                            aria-haspopup="true" aria-expanded="false" class="d-block  pr-4">
                                            <span class="ml-2 font-weight-semibold"> Yêu thích</span>
                                        </a>
                                    </li>
                                    <li class="nh-dropdown dropdown">
                                        <a href="javascript:void(0)" role="button" data-toggle="dropdown"
                                            aria-haspopup="true" aria-expanded="false"
                                            class="d-block dropdown-toggle pr-4">
                                            <span class="ml-2 font-weight-semibold">Đề cử</span>
                                        </a>
                                        <div aria-labelledby="js-views" class="dropdown-menu dropdown-menu-right">
                                            <a href="javascript:void(0);" class="dropdown-item">Đề cử [ngày]</a>
                                            <a href="javascript:void(0);" class="dropdown-item">Đề cử [tuần]</a>
                                            <a href="javascript:void(0);" class="dropdown-item">Đề cử [tháng]</a>
                                            <a href="javascript:void(0);" class="dropdown-item">Đề cử [toàn]</a>
                                        </div>
                                    </li>
                                    <li class="">
                                        <a href="javascript:void(0)" role="button" data-toggle="dropdown"
                                            aria-haspopup="true" aria-expanded="false" class="d-block  pr-4">
                                            <span class="ml-2 font-weight-semibold"> Bình luận</span>
                                        </a>
                                    </li>
                                    <li class="">
                                        <a href="javascript:void(0)" role="button" data-toggle="dropdown"
                                            aria-haspopup="true" aria-expanded="false" class="d-block  pr-4">
                                            <span class="ml-2 font-weight-semibold"> Số chương</span>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                            <div class="row mb-3" id="truyen-container">
                            </div>
                            <nav aria-label="Pagination" class="d-flex justify-content-end">
                                <ul class="pagination pagination-sm"><!---->
                                    <li class="page-item"><a tabindex="0" href="theloai.html"
                                        class="page-link rounded">1</a></li>
                                    <li class="page-item active"><a tabindex="0" class="page-link rounded"  >2</a></li>

                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        <div id="footer">
            <div id="footer">
                <hr class="my-0">
                <footer class="footer text-center py-4">
                    <div class="container"><a href="trang-chu.html" class="d-inline-block py-1 my-2"><img src="icon/logo.png"
                                alt="logo" width="64" height="64"></a>
                        <div class="w-75 m-auto"> vTruyen.Com là nền tảng mở dành cho các tác giả và độc giả đam mê
                            truyện chữ, nơi thành viên có thể tự do xuất bản các tác phẩm của mình với nhiều chức năng
                            liên tục được cải tiến sẽ mang lại trải nghiệm tốt nhất cho các tác giả sáng tác truyện lẫn
                            người đọc truyện online. </div>
                        <div id="app-download" class="footer-app mt-4">
                            <div class="d-flex align-items-center justify-content-center py-1"><a href="#"
                                    class="mr-3"><img src="//vtruyen.com/assets/images/app-store.png?260523" alt=""
                                        height="34"></a><a href="#"><img
                                        src="//vtruyen.com/assets/images/google-play.png?260523" alt="" height="34"></a>
                            </div>
                        </div>
                        <ul class="list-unstyled mt-4 mb-0 d-flex justify-content-center">
                            <li><a href="#" target="_blank"
                                    class="d-inline-block px-3 py-2">Điều khoản dịch vụ</a></li>
                            <li><a href="#" target="_blank"
                                    class="d-inline-block px-3 py-2">Chính sách bảo mật</a></li>
                            <li><a href="#" target="_blank"
                                    class="d-inline-block px-3 py-2">Về bản quyền</a></li>
                            <li><a href="#" target="_blank"
                                    class="d-inline-block px-3 py-2">Hướng dẫn sử dụng</a></li>
                        </ul>
                    </div>
                </footer>
            </div>
        </div>
        <div>
            <div id="js-login" tabindex="-1" aria-labelledby="LoginTitle" aria-hidden="true"
                class="modal modal-auth fade" style="padding-right: 17px;">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <ul class="modal-title list-unstyled d-flex m-auto" id="LoginTitle">
                                <li><a data-bs-toggle="modal" class="d-block h3 m-0 p-3">Đăng nhập</a></li>
                                <li><a href="javascript:void(0)" data-bs-toggle="modal" data-bs-dismiss="modal"
                                        data-bs-target="#js-register" class="d-block h3 m-0 p-3 text-tertiary">Đăng
                                        ký</a></li>
                            </ul> <button type="button" class="btn-close" data-bs-dismiss="modal"
                                aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <div class="form-group">
                                <div class="d-flex mt-4"><label for="email">Email</label> <a href="javascript:void(0)"
                                        data-bs-toggle="modal" data-bs-dismiss="modal" class="text-primary ms-auto">Gửi
                                        lại email kích hoạt</a></div> <input type="email" placeholder="Nhập email"
                                    id="email" class="form-control border-0 bg-light px-4">
                            </div>
                            <div class="form-group">
                                <div class="d-flex mt-4"><label for="password" class="m-0">Mật khẩu</label> <a
                                        href="javascript:void(0)" data-bs-toggle="modal" data-bs-dismiss="modal"
                                        class="text-primary ms-auto">Quên
                                        mật khẩu?</a></div> <input type="password" placeholder="Nhập mật khẩu"
                                    id="password" class="form-control border-0 bg-light px-4">
                            </div>
                            <div class="form-group mt-2">
                                <div class="custom-control custom-checkbox"><input type="checkbox" id="remember"
                                        class="custom-control-input"> <label for="remember"
                                        class="custom-control-label">&nbsp;Ghi nhớ mật
                                        khẩu</label></div>
                            </div>
                            <div class="form-group mt-2"><button
                                    class="btn btn-primary btn-md btn-shadow btn-block font-weight-semibold">Đăng
                                    nhập</button></div>
                        </div>
                        <div class="modal-footer justify-content-center bg-light text-center">
                            Bạn chưa có tài khoản?&nbsp;<a href="javascript:void(0)" data-bs-toggle="modal"
                                data-bs-dismiss="modal" class="text-primary font-weight-semibold">Đăng
                                ký ngay</a></div>
                    </div>
                </div>
            </div>
            <div id="js-register" tabindex="-1" aria-labelledby="RegisterTitle" aria-hidden="true"
                class="modal modal-auth fade" style="padding-right: 17px;">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <ul class="list-unstyled d-flex m-auto" id="RegisterTitle">
                                <li><a href="javascript:void(0)" data-bs-toggle="modal" data-bs-dismiss="modal"
                                        data-bs-target="#js-login" class="d-block h3 m-0 p-3 text-tertiary">Đăng
                                        nhập</a></li>
                                <li><a href="javascript:void(0)" data-bs-toggle="modal" class="d-block h3 m-0 p-3">Đăng
                                        ký</a></li>
                            </ul>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <div class="form-group mt-4"><label for="email-2">Email</label> <input type="text"
                                    placeholder="Email" id="email-2" class="form-control border-0 bg-light px-4"></div>
                            <div class="form-group mt-4"><label for="password-2">Mật khẩu</label>
                                <input type="password" placeholder="Nhập mật khẩu" id="password-2"
                                    class="form-control border-0 bg-light px-4">
                            </div>
                            <div class="form-group mt-4"><label for="retype-password">Nhập lại khẩu</label> <input
                                    type="password" placeholder="Nhập lại mật khẩu" id="retype-password"
                                    class="form-control border-0 bg-light px-4"></div>
                            <div class="form-group mt-4"><button
                                    class="btn btn-primary btn-md btn-shadow btn-block font-weight-semibold">Đăng
                                    ký</button></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const dropdownItems = document.querySelectorAll(".nh-dropdown.dropdown");

            dropdownItems.forEach((item) => {
                const dropdownToggle = item.querySelector(".dropdown-toggle");
                const dropdownMenu = item.querySelector(".dropdown-menu");

                dropdownToggle.addEventListener("click", function (e) {
                    e.preventDefault();

                    dropdownItems.forEach((otherItem) => {
                        if (otherItem !== item) {
                            otherItem.querySelector(".dropdown-menu").classList.remove("show");
                        }
                    });

                    dropdownMenu.classList.toggle("show");
                });
            });
        });
        const truyenData = [
            {
                title: 'Nhục Thân Thành Thánh',
                slug: 'ngoi-sao-hi-vong.html',
                description: 'Bởi vì một thứ gọi là "Tinh túc hải" mà cha mẹ bị vây công thảm liệt!...',
                author: 'Nhất Minh Kinh Nhân',
                chapterCount: 154,
                coverImage: 'https://static.cdnno.com/poster/nhuc-than-thanh-thanh-1/150.jpg?1697609267',
                category: 'Tiên Hiệp',
                views: 10000, // Lượt đọc
                publishDate: '2023-10-19', // Ngày đăng
            },
            {
                title: 'Nhục Thân Thành Thánh',
                slug: 'ngoi-sao-hi-vong.html',
                description: 'Bởi vì một thứ gọi là "Tinh túc hải" mà cha mẹ bị vây công thảm liệt!...',
                author: 'Nhất Minh Kinh Nhân',
                chapterCount: 154,
                coverImage: 'https://static.cdnno.com/poster/nhuc-than-thanh-thanh-1/150.jpg?1697609267',
                category: 'Tiên Hiệp',
                views: 10000, // Lượt đọc
                publishDate: '2023-10-19', // Ngày đăng
            },
        ];


        const truyenContainer = document.getElementById('truyen-container');
        const filterContainer = document.getElementById('filter-container');
        const selectedFilters = document.getElementById('selected-filters');
        const filterButtons = document.querySelectorAll('.filter-button');

        const activeFilters = new Set(); // Lưu trữ các thể loại đã chọn

        // Hiển thị tất cả truyện ban đầu
        truyenData.forEach(truyen => {
            renderTruyen(truyen);
        });
        // Xử lý sự kiện khi nút thể loại được bấm
        filterButtons.forEach(button => {
            button.addEventListener('click', () => {
                const category = button.getAttribute('data-category');
                if (!activeFilters.has(category)) {
                    activeFilters.add(category);
                    const filterItem = document.createElement('div');
                    filterItem.className = 'selected-filter';
                    filterItem.textContent = category;
                    const removeButton = document.createElement('button');
                    removeButton.className = 'remove-button';
                    removeButton.textContent = 'X';
                    removeButton.addEventListener('click', () => {
                        activeFilters.delete(category);
                        filterItem.remove();
                        updateFilters();
                    });
                    filterItem.appendChild(removeButton);
                    selectedFilters.appendChild(filterItem);
                }
                updateFilters();
            });
        });

        // Cập nhật danh sách truyện dựa trên các thể loại đã chọn
        function updateFilters() {
            truyenContainer.innerHTML = '';

            if (activeFilters.size === 0) {
                truyenData.forEach(truyen => {
                    renderTruyen(truyen);
                });
            } else {
                truyenData.forEach(truyen => {
                    if (activeFilters.has(truyen.category)) {
                        renderTruyen(truyen);
                    }
                });
            }
            updateSelectedFilters();
        }
        function updateSelectedFilters() {
            const selectedFilters = document.getElementById('selected-filters');
            selectedFilters.innerHTML = '';

            activeFilters.forEach(category => {
                const filterItem = document.createElement('li');
                const filterItemContent = document.createElement('div');
                filterItemContent.className = 'item rounded active d-flex align-items-center';
                filterItemContent.innerHTML = `<small>${category}</small>`;
                const removeButton = document.createElement('a');
                removeButton.className = 'item-close d-inline-block ml-2';
                removeButton.innerHTML = '<i class="nh-icon icon-close"></i>';
                removeButton.addEventListener('click', () => {
                    activeFilters.delete(category);
                    updateFilters();
                });
                filterItemContent.appendChild(removeButton);
                filterItem.appendChild(filterItemContent);
                selectedFilters.appendChild(filterItem);
            });
        }
        function renderTruyen(truyen) {
            const truyenItem = document.createElement('div');
            truyenItem.className = 'col-6'; // Thêm class 'col-6' cho layout Bootstrap

            const mediaDiv = document.createElement('div');
            mediaDiv.className = 'media border-bottom py-4';

            const link = document.createElement('a');
            link.href = '/truyen/' + truyen.slug; // Thay đổi đường dẫn tới trang truyện
            link.className = 'nh-thumb nh-thumb--90 shadow mr-3';

            const image = document.createElement('img');
            image.alt = truyen.title;
            image.width = '72';
            image.dataset.src = truyen.coverImage;
            image.src = truyen.coverImage;
            image.setAttribute('lazy', 'loaded');

            link.appendChild(image);

            const mediaBody = document.createElement('div');
            mediaBody.className = 'media-body';

            const h2 = document.createElement('h2');
            h2.className = 'fz-body mb-2';

            const titleLink = document.createElement('a');
            titleLink.href = '/truyen/' + truyen.slug;
            titleLink.className = 'd-block';
            titleLink.textContent = truyen.title;

            h2.appendChild(titleLink);

            const descriptionDiv = document.createElement('div');
            descriptionDiv.className = 'text-secondary text-overflow-2-lines fz-14 mb-3';
            descriptionDiv.textContent = truyen.description;

            const authorInfo = document.createElement('div');
            authorInfo.className = 'd-flex align-items-start';

            const authorDiv = document.createElement('div');
            authorDiv.className = 'd-flex align-items-center fz-13 mr-4 mb-1';

            const authorIconWrapper = document.createElement('span');
            authorIconWrapper.className = 'icon-wrapper mr-2';

            const authorIcon = document.createElement('i');
            authorIcon.className = 'nh-icon icon-user-edit';

            authorIconWrapper.appendChild(authorIcon);

            const authorName = document.createElement('span');
            authorName.className = 'truncate-140';
            authorName.textContent = truyen.author;

            authorDiv.appendChild(authorIconWrapper);
            authorDiv.appendChild(authorName);

            const chapterInfo = document.createElement('div');
            chapterInfo.className = 'd-flex align-items-center fz-13 mr-4';

            const chapterIconWrapper = document.createElement('span');
            chapterIconWrapper.className = 'icon-wrapper mr-2';

            const chapterIcon = document.createElement('i');
            chapterIcon.className = 'nh-icon icon-menu small';

            chapterIconWrapper.appendChild(chapterIcon);

            const chapterCount = document.createElement('span');
            chapterCount.textContent = truyen.chapterCount + ' chương';

            chapterInfo.appendChild(chapterIconWrapper);
            chapterInfo.appendChild(chapterCount);

            authorInfo.appendChild(authorDiv);
            authorInfo.appendChild(chapterInfo);

            const genreSpan = document.createElement('span');
            genreSpan.className = 'd-inline-block border border-primary small px-2 text-primary ml-auto truncate-100';
            genreSpan.style.cursor = 'pointer';
            genreSpan.textContent = truyen.category;

            mediaBody.appendChild(h2);
            mediaBody.appendChild(descriptionDiv);
            mediaBody.appendChild(authorInfo);
            mediaBody.appendChild(genreSpan);

            mediaDiv.appendChild(link);
            mediaDiv.appendChild(mediaBody);

            truyenItem.appendChild(mediaDiv);

            truyenContainer.appendChild(truyenItem);
        }
        function sortTruyenByDate(order) {
            truyenData.sort((a, b) => {
                const dateA = new Date(a.publishDate);
                const dateB = new Date(b.publishDate);

                if (order === 'desc') {
                    return dateB - dateA;
                } else {
                    return dateA - dateB;
                }
            });

            updateFilters(); // Cập nhật hiển thị sau khi sắp xếp
        }

        // Xử lý sự kiện khi nút "Mới cập nhật" và "Mới đăng" được bấm
        const newUpdateButton = document.querySelector('.dropdown-item.active');
        const newPublishButton = document.querySelector('.dropdown-item:not(.active)');

        newUpdateButton.addEventListener('click', () => {
            sortTruyenByDate('desc');
            newUpdateButton.classList.add('active');
            newPublishButton.classList.remove('active');
        });

        newPublishButton.addEventListener('click', () => {
            sortTruyenByDate('asc');
            newPublishButton.classList.add('active');
            newUpdateButton.classList.remove('active');
            updateFilters(); // Gọi hàm để cập nhật danh sách truyện
        });
        const mostViewedOverallButton = document.getElementById('mostViewedOverall');

        mostViewedOverallButton.addEventListener('click', () => {
            sortTruyenByViews('desc');
            mostViewedOverallButton.classList.add('active');

            // Đảm bảo rằng các nút khác không được đánh dấu là active
            // Ví dụ, tắt active của các nút khác trong dropdown "Lượt đọc"
            const dropdownViewsItems = document.querySelectorAll('.dropdown-item');
            dropdownViewsItems.forEach(item => {
                if (item !== mostViewedOverallButton) {
                    item.classList.remove('active');
                }
            });
        });
        function sortTruyenByViews(order) {
            truyenData.sort((a, b) => {
                if (order === 'desc') {
                    return b.views - a.views;
                } else {
                    return a.views - b.views;
                }
            });

            updateFilters(); // Cập nhật hiển thị sau khi sắp xếp
        }
    </script>
</body>

</html>